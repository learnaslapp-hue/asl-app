import{a as G}from"./chunk-36NF3LEI.js";import{a as V,l as $}from"./chunk-S52CO7LW.js";import{a as W}from"./chunk-ZHDFZB2B.js";import{b as D,f as F,g as N}from"./chunk-7YAWXMMP.js";import{Aa as x,G as s,H as u,Ha as E,J as S,Ja as k,Mb as T,Nb as q,O as g,Ob as A,R as d,Tb as v,V as f,W as r,Wa as z,X as t,Xb as L,Y as p,_a as H,_b as j,bc as Q,ca as P,cc as R,ia as C,ja as _,jc as B,ka as y,na as c,nb as K,oa as M,pa as h,sa as I,ta as O,ua as w}from"./chunk-55BITWVR.js";import"./chunk-MTUXJE3Z.js";import"./chunk-PLFY2CTQ.js";import"./chunk-7PW2J7O2.js";import"./chunk-QIBKRVRZ.js";import"./chunk-WWLKLYXQ.js";import"./chunk-ADUYDX2F.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-O4PCMGUI.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{j as b}from"./chunk-LRBG2F7K.js";var U=n=>({"no-shadow":n});function X(n,i){if(n&1&&(r(0,"span",10)(1,"span",21),c(2),t()()),n&2){let o=P();s(2),h("Last opened: ",o.currentProfile==null||o.currentProfile.progress==null||o.currentProfile.progress.alphabet==null?null:o.currentProfile.progress.alphabet.lastOpened,"")}}function Y(n,i){n&1&&(r(0,"span",10)(1,"span",21),c(2,"Not started"),t()())}function Z(n,i){if(n&1&&(r(0,"span",10)(1,"span",21),c(2),t()()),n&2){let o=P();s(2),h("",o.currentProfile==null||o.currentProfile.progress==null||o.currentProfile.progress.lessons==null?null:o.currentProfile.progress.lessons.compeleted.length,"/94")}}function ee(n,i){n&1&&(r(0,"span",10)(1,"span",21),c(2,"0%"),t()())}function ne(n,i){if(n&1&&(r(0,"span",10)(1,"span",21),c(2),t()()),n&2){let o=P();s(2),h("High Score: ",o.quizStatus==null?null:o.quizStatus.currentHighScore,"")}}function te(n,i){n&1&&(r(0,"span",10)(1,"span",21),c(2,"Not started"),t()())}var he=(()=>{let i=class i{constructor(l,a,e,m,J){this.storageService=l,this.authService=a,this.scrollService=e,this.statusSvc=m,this.apiKeyManagementService=J,this.loadStatus(),V({personCircle:$})}ngOnInit(){this.authService.user$.subscribe(l=>{this.currentProfile=l})}ionViewWillEnter(){this.loadStatus(),this.loadAPIKey()}ngAfterViewInit(){this.scrollService.register(this.content)}ngOnDestroy(){var l;(l=this.apiKeySub)==null||l.unsubscribe()}loadAPIKey(){var l,a;(a=(l=this.apiKeyManagementService)==null?void 0:l.currentAPIKey)!=null&&a.apiKey||(this.apiKeySub=this.apiKeyManagementService.get().subscribe(e=>{e&&e.data&&(this.storageService.saveAPIKey(e.data),this.apiKeyManagementService.setCurrentAPIKey(e.data))}))}loadStatus(){return b(this,null,function*(){this.quizStatus=yield this.statusSvc.load()})}};i.\u0275fac=function(a){return new(a||i)(u(D),u(N),u(W),u(G),u(F))},i.\u0275cmp=S({type:i,selectors:[["app-home"]],viewQuery:function(a,e){if(a&1&&C(v,7),a&2){let m;_(m=y())&&(e.content=m.first)}},decls:47,vars:13,consts:[["collapse","fade",3,"ngClass"],[1,"no-shadow"],["slot","end"],["routerLink","/profile","fill","clear"],["name","person-circle",2,"font-size","2rem"],[1,"page-content","ion-padding",3,"fullscreen"],[1,"cards"],["routerLink","/alphabet",1,"image-card"],[1,"card",2,"background","#eee6ff"],[1,"progress-wrap"],[1,"progress-label-wrap"],[3,"value"],["src","assets/images/alphabet.png","alt",""],[1,"card-title"],["routerLink","/lessons",1,"image-card"],[1,"card"],["src","assets/images/lessons.jpg","alt",""],["routerLink","/quiz",1,"image-card"],["src","assets/images/quiz.png","alt",""],["routerLink","/text-to-sign",1,"image-card"],["src","assets/images/text-to-sign.png","alt",""],[1,"progress-label"]],template:function(a,e){a&1&&(r(0,"ion-header",0),O(1,"async"),r(2,"ion-toolbar",1)(3,"ion-title"),c(4),t(),r(5,"ion-buttons",2)(6,"ion-button",3),p(7,"ion-icon",4),t()()()(),r(8,"ion-content",5)(9,"div",6)(10,"div",7)(11,"ion-card",8)(12,"ion-card-content")(13,"div",9),g(14,X,3,1,"span",10)(15,Y,3,0,"span",10),p(16,"ion-progress-bar",11),t(),p(17,"img",12),t()(),r(18,"h4",13),c(19,"Alphabet"),t()(),r(20,"div",14)(21,"ion-card",15)(22,"ion-card-content")(23,"div",9),g(24,Z,3,1,"span",10)(25,ee,3,0,"span",10),p(26,"ion-progress-bar",11),t(),p(27,"img",16),t()(),r(28,"h4",13),c(29,"Lessons"),t()()(),r(30,"div",6)(31,"div",17)(32,"ion-card",15)(33,"ion-card-content")(34,"div",9),g(35,ne,3,1,"span",10)(36,te,3,0,"span",10),p(37,"ion-progress-bar",11),t(),p(38,"img",18),t()(),r(39,"h4",13),c(40,"Quiz"),t()(),r(41,"div",19)(42,"ion-card",15)(43,"ion-card-content"),p(44,"img",20),t()(),r(45,"h4",13),c(46,"Text to Sign"),t()()()()),a&2&&(d("ngClass",I(11,U,w(1,9,e.scrollService.scrollTop$)===0)),s(4),M(e.currentProfile!=null&&e.currentProfile.name?"Hello, "+(e.currentProfile==null?null:e.currentProfile.name):"Home"),s(4),d("fullscreen",!0),s(6),f(!(e.currentProfile==null||e.currentProfile.progress==null||e.currentProfile.progress.alphabet==null)&&e.currentProfile.progress.alphabet.lastOpened?14:15),s(2),d("value",(e.currentProfile==null||e.currentProfile.progress==null||e.currentProfile.progress.alphabet==null?null:e.currentProfile.progress.alphabet.compeleted.length)/26),s(8),f((e.currentProfile==null||e.currentProfile.progress==null||e.currentProfile.progress.lessons==null?null:e.currentProfile.progress.lessons.compeleted.length)>0&&(!(e.currentProfile==null||e.currentProfile.progress==null||e.currentProfile.progress.lessons==null)&&e.currentProfile.progress.lessons.status)?24:25),s(2),d("value",(e.currentProfile==null||e.currentProfile.progress==null||e.currentProfile.progress.lessons==null?null:e.currentProfile.progress.lessons.compeleted.length)/94),s(9),f(e.quizStatus!=null&&e.quizStatus.currentHighScore?35:36),s(2),d("value",(e.currentProfile==null||e.currentProfile.progress==null||e.currentProfile.progress.quiz==null?null:e.currentProfile.progress.quiz.compeleted.length)/5))},dependencies:[k,x,E,K,H,z,v,L,R,Q,T,B,q,A,j],styles:["ion-header[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background: #f8fafb !important;background:#f8fafb!important}.page-content[_ngcontent-%COMP%]{--background: url(/assets/images/bg.png) no-repeat center center / cover !important;background:url(/assets/images/bg.png) no-repeat center center/cover!important}.cards[_ngcontent-%COMP%]{display:flex;flex-direction:row}.image-card[_ngcontent-%COMP%]{width:50%;text-align:center;display:inline-block;transition:transform .15s ease-in-out;cursor:pointer}.image-card[_ngcontent-%COMP%]:first-child{padding-right:5px!important}.image-card[_ngcontent-%COMP%]:last-child{padding-left:5px!important}.image-card[_ngcontent-%COMP%]:focus, .image-card[_ngcontent-%COMP%]:active{transform:scale(.95)}ion-card[_ngcontent-%COMP%]{width:100%;height:240px;margin:0!important;--background: transparent;background:transparent;border:none!important;border-radius:12px;box-shadow:0 8px 16px #00000014,0 0 4px #0000000a!important}ion-card-content[_ngcontent-%COMP%]{width:100%;height:100%;padding:0!important}ion-card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-title[_ngcontent-%COMP%]{margin-top:10px!important;margin-bottom:10px!important}.progress-wrap[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;bottom:5px;width:100%;padding:0 5px}.progress-wrap[_ngcontent-%COMP%]   .progress-label-wrap[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;left:0;top:5px}.progress-wrap[_ngcontent-%COMP%]   .progress-label-wrap[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{color:#000;font-size:1rem}.progress-wrap[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{height:30px!important;border-radius:30px;--background: #e0fff8;--progress-background: #5debca}"]});let n=i;return n})();export{he as HomePage};
