import{Fa as h,e as l,i as m,n as d,r as g}from"./chunk-UJODM2NG.js";var f=(a,r)=>`${a}::${r}`,C=(()=>{let r=class r{constructor(){this.http=g(h),this.data$=this.http.get("assets/lessons/lessons.json").pipe(m(1))}getCategories(){return this.data$}getCategory(t){return this.data$.pipe(l(e=>e.find(o=>o.slug===t)))}getItem(t,e){return this.data$.pipe(l(o=>{let s=o.find(n=>n.slug===t),i=s==null?void 0:s.items.find(n=>n.slug===e);return{category:s,item:i}}))}completedSet(t){var o,s,i,n,p,c;let e=(c=(p=(s=(o=t==null?void 0:t.progress)==null?void 0:o.lessons)==null?void 0:s.compeleted)!=null?p:(n=(i=t==null?void 0:t.progress)==null?void 0:i.lessons)==null?void 0:n.completed)!=null?c:[];return new Set(e)}isItemDone(t,e,o){return this.completedSet(t).has(f(e,o))}progressFor(t){let e=this.completedSet(t);return this.data$.pipe(l(o=>{let s={};for(let i of o){let n=i.items.length,p=i.items.filter(c=>e.has(f(i.slug,c.slug))).length;s[i.slug]={done:p,total:n,complete:n>0&&p===n}}return s}))}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=d({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();export{f as a,C as b};
