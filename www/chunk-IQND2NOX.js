import{a as R,b as D,r as U}from"./chunk-3BFOI2QZ.js";import{b as N,d as Q}from"./chunk-UAKYHZSN.js";import{Ca as P,E as d,F as i,Fb as h,H as I,Ib as E,Jb as F,La as _,O as p,Ob as L,Pb as A,Qa as M,S as n,Sb as H,T as r,U as u,Z as v,ab as x,bb as O,cb as k,ea as C,fa as S,ga as w,ja as c,ka as f,oa as y,wa as b,wb as j,yb as T,zb as B}from"./chunk-HEOIPJ2Y.js";import"./chunk-MTUXJE3Z.js";import"./chunk-PLFY2CTQ.js";import"./chunk-7PW2J7O2.js";import"./chunk-QIBKRVRZ.js";import"./chunk-WWLKLYXQ.js";import"./chunk-ADUYDX2F.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-O4PCMGUI.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{j as m}from"./chunk-LRBG2F7K.js";var z=l=>({"no-shadow":l}),ge=(()=>{let a=class a{constructor(e,t,o,s,V,q){this.storageService=e,this.authService=t,this.actionSheetController=o,this.platform=s,this.scrollService=V,this.router=q,this.showShadow=!1,R({arrowBack:D}),this.scrollService.scrollTop$.subscribe(g=>{console.log(g),this.showShadow=g>0})}ngOnInit(){this.storageService.getSavedProfile().then(e=>{e?(this.email=e.email,this.displayName=e.name,console.log("HomePage: profile loaded on init",e)):console.log("HomePage: no profile found on init")})}ngAfterViewInit(){this.scrollService.register(this.content)}onLogout(){return m(this,null,function*(){yield(yield this.actionSheetController.create({header:"Are you sure you want to logout?",buttons:[{text:"Yes, Logout",handler:()=>m(this,null,function*(){this.authService.logout(),this.router.navigateByUrl("/login",{replaceUrl:!0})})},{text:"Cancel",cssClass:"close dismiss cancel",handler:()=>m(this,null,function*(){this.actionSheetController.dismiss()})}]})).present()})}};a.\u0275fac=function(t){return new(t||a)(i(N),i(Q),i(H),i(k),i(U),i(_))},a.\u0275cmp=I({type:a,selectors:[["app-profile"]],viewQuery:function(t,o){if(t&1&&C(h,7),t&2){let s;S(s=w())&&(o.content=s.first)}},decls:18,vars:7,consts:[[3,"translucent","ngClass"],["slot","start"],["default-href","/home"],[1,"ion-padding",3,"fullscreen"],[1,"profile-pic"],[1,"img-wrap"],["src","assets/images/male-profile.jpg","alt",""],[1,"display-name"],[1,"email"],[1,"no-shadow","ion-padding"],["color","danger","fill","outline","expand","block",1,"regular",3,"click"]],template:function(t,o){t&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),u(3,"ion-back-button",2),r(),n(4,"ion-title"),c(5,"Profile"),r()()(),n(6,"ion-content",3)(7,"div",4)(8,"div",5),u(9,"img",6),r(),n(10,"h1",7),c(11),r(),n(12,"h3",8),c(13),r()()(),n(14,"ion-footer",9)(15,"ion-toolbar")(16,"ion-button",10),v("click",function(){return o.onLogout()}),c(17," Logout "),r()()()),t&2&&(p("translucent",!0)("ngClass",y(5,z,!o.showShadow)),d(6),p("fullscreen",!0),d(5),f(o.displayName||""),d(2),f(o.email||""))},dependencies:[h,F,L,A,P,b,x,O,M,T,B,j,E],styles:[".profile-pic[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.profile-pic[_ngcontent-%COMP%]   .img-wrap[_ngcontent-%COMP%]{width:200px!important;height:200px!important}.profile-pic[_ngcontent-%COMP%]   .img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.display-name[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem}.email[_ngcontent-%COMP%]{overflow-wrap:break-word;width:100%;text-align:center}ion-footer[_ngcontent-%COMP%]{background-color:#fff}"]});let l=a;return l})();export{ge as ProfilePage};
