import{a as de,b as me,c as _t,d as bt,e as Tt,f as xt,g as Rt,j as Mt,k as kt,m as Ot,n as Et,o as It,p as Dt,q as Lt,r as fe}from"./chunk-HZKMSCS6.js";import{b as le,d as Pt}from"./chunk-3T6SOJS6.js";import{Aa as Ct,Ba as vt,Bb as te,C as q,Ca as ee,Cb as ne,D as at,E as u,F as E,H as Y,Ib as B,Jb as re,Kb as ie,L as T,Lb as St,Mb as oe,N as ct,O as v,Q as pt,R as xe,Rb as se,S as C,Sb as ae,T as g,Tb as ce,U as S,V as lt,W as dt,X as Re,Xb as pe,Y as I,Z as x,_ as b,ea as V,fa as G,ga as N,ha as A,ja as k,ka as D,la as X,oa as j,pa as Me,qa as mt,ra as ft,sa as ht,u as R,v as M,wa as Z,xa as ut,ya as w,yb as yt,za as gt}from"./chunk-UJODM2NG.js";import"./chunk-MTUXJE3Z.js";import"./chunk-PLFY2CTQ.js";import"./chunk-7PW2J7O2.js";import"./chunk-QIBKRVRZ.js";import"./chunk-WWLKLYXQ.js";import"./chunk-ADUYDX2F.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-O4PCMGUI.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{f as $t,g as $,h as st,j as _}from"./chunk-LRBG2F7K.js";var tt=$t((Dn,et)=>{"use strict";var d={};d.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)};d.localCName=d.generateIdentifier();d.splitLines=function(e){return e.trim().split(`
`).map(n=>n.trim())};d.splitSections=function(e){return e.split(`
m=`).map((i,t)=>(t>0?"m="+i:i).trim()+`\r
`)};d.getDescription=function(e){let n=d.splitSections(e);return n&&n[0]};d.getMediaSections=function(e){let n=d.splitSections(e);return n.shift(),n};d.matchPrefix=function(e,n){return d.splitLines(e).filter(i=>i.indexOf(n)===0)};d.parseCandidate=function(e){let n;e.indexOf("a=candidate:")===0?n=e.substring(12).split(" "):n=e.substring(10).split(" ");let i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let t=8;t<n.length;t+=2)switch(n[t]){case"raddr":i.relatedAddress=n[t+1];break;case"rport":i.relatedPort=parseInt(n[t+1],10);break;case"tcptype":i.tcpType=n[t+1];break;case"ufrag":i.ufrag=n[t+1],i.usernameFragment=n[t+1];break;default:i[n[t]]===void 0&&(i[n[t]]=n[t+1]);break}return i};d.writeCandidate=function(e){let n=[];n.push(e.foundation);let i=e.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(e.protocol.toUpperCase()),n.push(e.priority),n.push(e.address||e.ip),n.push(e.port);let t=e.type;return n.push("typ"),n.push(t),t!=="host"&&e.relatedAddress&&e.relatedPort&&(n.push("raddr"),n.push(e.relatedAddress),n.push("rport"),n.push(e.relatedPort)),e.tcpType&&e.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(n.push("ufrag"),n.push(e.usernameFragment||e.ufrag)),"candidate:"+n.join(" ")};d.parseIceOptions=function(e){return e.substring(14).split(" ")};d.parseRtpMap=function(e){let n=e.substring(9).split(" "),i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i};d.writeRtpMap=function(e){let n=e.payloadType;e.preferredPayloadType!==void 0&&(n=e.preferredPayloadType);let i=e.channels||e.numChannels||1;return"a=rtpmap:"+n+" "+e.name+"/"+e.clockRate+(i!==1?"/"+i:"")+`\r
`};d.parseExtmap=function(e){let n=e.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}};d.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&e.direction!=="sendrecv"?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+`\r
`};d.parseFmtp=function(e){let n={},i,t=e.substring(e.indexOf(" ")+1).split(";");for(let r=0;r<t.length;r++)i=t[r].trim().split("="),n[i[0].trim()]=i[1];return n};d.writeFmtp=function(e){let n="",i=e.payloadType;if(e.preferredPayloadType!==void 0&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){let t=[];Object.keys(e.parameters).forEach(r=>{e.parameters[r]!==void 0?t.push(r+"="+e.parameters[r]):t.push(r)}),n+="a=fmtp:"+i+" "+t.join(";")+`\r
`}return n};d.parseRtcpFb=function(e){let n=e.substring(e.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}};d.writeRtcpFb=function(e){let n="",i=e.payloadType;return e.preferredPayloadType!==void 0&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(t=>{n+="a=rtcp-fb:"+i+" "+t.type+(t.parameter&&t.parameter.length?" "+t.parameter:"")+`\r
`}),n};d.parseSsrcMedia=function(e){let n=e.indexOf(" "),i={ssrc:parseInt(e.substring(7,n),10)},t=e.indexOf(":",n);return t>-1?(i.attribute=e.substring(n+1,t),i.value=e.substring(t+1)):i.attribute=e.substring(n+1),i};d.parseSsrcGroup=function(e){let n=e.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}};d.getMid=function(e){let n=d.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)};d.parseFingerprint=function(e){let n=e.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}};d.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:d.matchPrefix(e+n,"a=fingerprint:").map(d.parseFingerprint)}};d.writeDtlsParameters=function(e,n){let i="a=setup:"+n+`\r
`;return e.fingerprints.forEach(t=>{i+="a=fingerprint:"+t.algorithm+" "+t.value+`\r
`}),i};d.parseCryptoLine=function(e){let n=e.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}};d.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+(typeof e.keyParams=="object"?d.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+`\r
`};d.parseCryptoKeyParams=function(e){if(e.indexOf("inline:")!==0)return null;let n=e.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}};d.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")};d.getCryptoParameters=function(e,n){return d.matchPrefix(e+n,"a=crypto:").map(d.parseCryptoLine)};d.getIceParameters=function(e,n){let i=d.matchPrefix(e+n,"a=ice-ufrag:")[0],t=d.matchPrefix(e+n,"a=ice-pwd:")[0];return i&&t?{usernameFragment:i.substring(12),password:t.substring(10)}:null};d.writeIceParameters=function(e){let n="a=ice-ufrag:"+e.usernameFragment+`\r
a=ice-pwd:`+e.password+`\r
`;return e.iceLite&&(n+=`a=ice-lite\r
`),n};d.parseRtpParameters=function(e){let n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},t=d.splitLines(e)[0].split(" ");n.profile=t[2];for(let o=3;o<t.length;o++){let a=t[o],s=d.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(s){let p=d.parseRtpMap(s),c=d.matchPrefix(e,"a=fmtp:"+a+" ");switch(p.parameters=c.length?d.parseFmtp(c[0]):{},p.rtcpFeedback=d.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(d.parseRtcpFb),n.codecs.push(p),p.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(p.name.toUpperCase());break;default:break}}}d.matchPrefix(e,"a=extmap:").forEach(o=>{n.headerExtensions.push(d.parseExtmap(o))});let r=d.matchPrefix(e,"a=rtcp-fb:* ").map(d.parseRtcpFb);return n.codecs.forEach(o=>{r.forEach(a=>{o.rtcpFeedback.find(p=>p.type===a.type&&p.parameter===a.parameter)||o.rtcpFeedback.push(a)})}),n};d.writeRtpDescription=function(e,n){let i="";i+="m="+e+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(r=>r.preferredPayloadType!==void 0?r.preferredPayloadType:r.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(r=>{i+=d.writeRtpMap(r),i+=d.writeFmtp(r),i+=d.writeRtcpFb(r)});let t=0;return n.codecs.forEach(r=>{r.maxptime>t&&(t=r.maxptime)}),t>0&&(i+="a=maxptime:"+t+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(r=>{i+=d.writeExtmap(r)}),i};d.parseRtpEncodingParameters=function(e){let n=[],i=d.parseRtpParameters(e),t=i.fecMechanisms.indexOf("RED")!==-1,r=i.fecMechanisms.indexOf("ULPFEC")!==-1,o=d.matchPrefix(e,"a=ssrc:").map(l=>d.parseSsrcMedia(l)).filter(l=>l.attribute==="cname"),a=o.length>0&&o[0].ssrc,s,p=d.matchPrefix(e,"a=ssrc-group:FID").map(l=>l.substring(17).split(" ").map(f=>parseInt(f,10)));p.length>0&&p[0].length>1&&p[0][0]===a&&(s=p[0][1]),i.codecs.forEach(l=>{if(l.name.toUpperCase()==="RTX"&&l.parameters.apt){let m={ssrc:a,codecPayloadType:parseInt(l.parameters.apt,10)};a&&s&&(m.rtx={ssrc:s}),n.push(m),t&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:a,mechanism:r?"red+ulpfec":"red"},n.push(m))}}),n.length===0&&a&&n.push({ssrc:a});let c=d.matchPrefix(e,"b=");return c.length&&(c[0].indexOf("b=TIAS:")===0?c=parseInt(c[0].substring(7),10):c[0].indexOf("b=AS:")===0?c=parseInt(c[0].substring(5),10)*1e3*.95-50*40*8:c=void 0,n.forEach(l=>{l.maxBitrate=c})),n};d.parseRtcpParameters=function(e){let n={},i=d.matchPrefix(e,"a=ssrc:").map(o=>d.parseSsrcMedia(o)).filter(o=>o.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);let t=d.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=t.length>0,n.compound=t.length===0;let r=d.matchPrefix(e,"a=rtcp-mux");return n.mux=r.length>0,n};d.writeRtcpParameters=function(e){let n="";return e.reducedSize&&(n+=`a=rtcp-rsize\r
`),e.mux&&(n+=`a=rtcp-mux\r
`),e.ssrc!==void 0&&e.cname&&(n+="a=ssrc:"+e.ssrc+" cname:"+e.cname+`\r
`),n};d.parseMsid=function(e){let n,i=d.matchPrefix(e,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};let t=d.matchPrefix(e,"a=ssrc:").map(r=>d.parseSsrcMedia(r)).filter(r=>r.attribute==="msid");if(t.length>0)return n=t[0].value.split(" "),{stream:n[0],track:n[1]}};d.parseSctpDescription=function(e){let n=d.parseMLine(e),i=d.matchPrefix(e,"a=max-message-size:"),t;i.length>0&&(t=parseInt(i[0].substring(19),10)),isNaN(t)&&(t=65536);let r=d.matchPrefix(e,"a=sctp-port:");if(r.length>0)return{port:parseInt(r[0].substring(12),10),protocol:n.fmt,maxMessageSize:t};let o=d.matchPrefix(e,"a=sctpmap:");if(o.length>0){let a=o[0].substring(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}};d.writeSctpDescription=function(e,n){let i=[];return e.protocol!=="DTLS/SCTP"?i=["m="+e.kind+" 9 "+e.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+e.kind+" 9 "+e.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")};d.generateSessionId=function(){return Math.random().toString().substr(2,22)};d.writeSessionBoilerplate=function(e,n,i){let t,r=n!==void 0?n:2;return e?t=e:t=d.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+t+" "+r+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`};d.getDirection=function(e,n){let i=d.splitLines(e);for(let t=0;t<i.length;t++)switch(i[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[t].substring(2);default:}return n?d.getDirection(n):"sendrecv"};d.getKind=function(e){return d.splitLines(e)[0].split(" ")[0].substring(2)};d.isRejected=function(e){return e.split(" ",2)[1]==="0"};d.parseMLine=function(e){let i=d.splitLines(e)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}};d.parseOLine=function(e){let i=d.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}};d.isValidSDP=function(e){if(typeof e!="string"||e.length===0)return!1;let n=d.splitLines(e);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0};typeof et=="object"&&(et.exports=d)});var jt=!0,Ft=!0;function F(e,n,i){let t=e.match(n);return t&&t.length>=i&&parseFloat(t[i],10)}function O(e,n,i){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype,r=t.addEventListener;t.addEventListener=function(a,s){if(a!==n)return r.apply(this,arguments);let p=c=>{let l=i(c);l&&(s.handleEvent?s.handleEvent(l):s(l))};return this._eventMap=this._eventMap||{},this._eventMap[n]||(this._eventMap[n]=new Map),this._eventMap[n].set(s,p),r.apply(this,[a,p])};let o=t.removeEventListener;t.removeEventListener=function(a,s){if(a!==n||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);if(!this._eventMap[n].has(s))return o.apply(this,arguments);let p=this._eventMap[n].get(s);return this._eventMap[n].delete(s),this._eventMap[n].size===0&&delete this._eventMap[n],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[a,p])},Object.defineProperty(t,"on"+n,{get(){return this["_on"+n]},set(a){this["_on"+n]&&(this.removeEventListener(n,this["_on"+n]),delete this["_on"+n]),a&&this.addEventListener(n,this["_on"+n]=a)},enumerable:!0,configurable:!0})}function Ut(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(jt=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function zt(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Ft=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function he(){if(typeof window=="object"){if(jt)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function U(e,n){Ft&&console.warn(e+" is deprecated, please use "+n+" instead.")}function Vt(e){let n={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return n.browser="Not a browser.",n;let{navigator:i}=e;if(i.userAgentData&&i.userAgentData.brands){let t=i.userAgentData.brands.find(r=>r.brand==="Chromium");if(t)return{browser:"chrome",version:parseInt(t.version,10)}}if(i.mozGetUserMedia)n.browser="firefox",n.version=parseInt(F(i.userAgent,/Firefox\/(\d+)\./,1));else if(i.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)n.browser="chrome",n.version=parseInt(F(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./))n.browser="safari",n.version=parseInt(F(i.userAgent,/AppleWebKit\/(\d+)\./,1)),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,n._safariVersion=F(i.userAgent,/Version\/(\d+(\.?\d+))/,1);else return n.browser="Not a supported browser.",n;return n}function At(e){return Object.prototype.toString.call(e)==="[object Object]"}function Oe(e){return At(e)?Object.keys(e).reduce(function(n,i){let t=At(e[i]),r=t?Oe(e[i]):e[i],o=t&&!Object.keys(r).length;return r===void 0||o?n:Object.assign(n,{[i]:r})},{}):e}function ke(e,n,i){!n||i.has(n.id)||(i.set(n.id,n),Object.keys(n).forEach(t=>{t.endsWith("Id")?ke(e,e.get(n[t]),i):t.endsWith("Ids")&&n[t].forEach(r=>{ke(e,e.get(r),i)})}))}function Ee(e,n,i){let t=i?"outbound-rtp":"inbound-rtp",r=new Map;if(n===null)return r;let o=[];return e.forEach(a=>{a.type==="track"&&a.trackIdentifier===n.id&&o.push(a)}),o.forEach(a=>{e.forEach(s=>{s.type===t&&s.trackId===a.id&&ke(e,s,r)})}),r}var Ce={};$(Ce,{fixNegotiationNeeded:()=>Fe,shimAddTrackRemoveTrack:()=>je,shimAddTrackRemoveTrackWithNative:()=>Nt,shimGetSendersWithDtmf:()=>Le,shimGetUserMedia:()=>ue,shimMediaStream:()=>Ie,shimOnTrack:()=>De,shimPeerConnection:()=>ge,shimSenderReceiverGetStats:()=>Ae});var Gt=he;function ue(e,n){let i=e&&e.navigator;if(!i.mediaDevices)return;let t=function(s){if(typeof s!="object"||s.mandatory||s.optional)return s;let p={};return Object.keys(s).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;let l=typeof s[c]=="object"?s[c]:{ideal:s[c]};l.exact!==void 0&&typeof l.exact=="number"&&(l.min=l.max=l.exact);let m=function(f,h){return f?f+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(l.ideal!==void 0){p.optional=p.optional||[];let f={};typeof l.ideal=="number"?(f[m("min",c)]=l.ideal,p.optional.push(f),f={},f[m("max",c)]=l.ideal,p.optional.push(f)):(f[m("",c)]=l.ideal,p.optional.push(f))}l.exact!==void 0&&typeof l.exact!="number"?(p.mandatory=p.mandatory||{},p.mandatory[m("",c)]=l.exact):["min","max"].forEach(f=>{l[f]!==void 0&&(p.mandatory=p.mandatory||{},p.mandatory[m(f,c)]=l[f])})}),s.advanced&&(p.optional=(p.optional||[]).concat(s.advanced)),p},r=function(s,p){if(n.version>=61)return p(s);if(s=JSON.parse(JSON.stringify(s)),s&&typeof s.audio=="object"){let c=function(l,m,f){m in l&&!(f in l)&&(l[f]=l[m],delete l[m])};s=JSON.parse(JSON.stringify(s)),c(s.audio,"autoGainControl","googAutoGainControl"),c(s.audio,"noiseSuppression","googNoiseSuppression"),s.audio=t(s.audio)}if(s&&typeof s.video=="object"){let c=s.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});let l=n.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!l)){delete s.video.facingMode;let m;if(c.exact==="environment"||c.ideal==="environment"?m=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(m=["front"]),m)return i.mediaDevices.enumerateDevices().then(f=>{f=f.filter(y=>y.kind==="videoinput");let h=f.find(y=>m.some(P=>y.label.toLowerCase().includes(P)));return!h&&f.length&&m.includes("back")&&(h=f[f.length-1]),h&&(s.video.deviceId=c.exact?{exact:h.deviceId}:{ideal:h.deviceId}),s.video=t(s.video),Gt("chrome: "+JSON.stringify(s)),p(s)})}s.video=t(s.video)}return Gt("chrome: "+JSON.stringify(s)),p(s)},o=function(s){return n.version>=64?s:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[s.name]||s.name,message:s.message,constraint:s.constraint||s.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(s,p,c){r(s,l=>{i.webkitGetUserMedia(l,p,m=>{c&&c(o(m))})})};if(i.getUserMedia=a.bind(i),i.mediaDevices.getUserMedia){let s=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(p){return r(p,c=>s(c).then(l=>{if(c.audio&&!l.getAudioTracks().length||c.video&&!l.getVideoTracks().length)throw l.getTracks().forEach(m=>{m.stop()}),new DOMException("","NotFoundError");return l},l=>Promise.reject(o(l))))}}}function Ie(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function De(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(i){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=i)},enumerable:!0,configurable:!0});let n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",r=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(s=>s.track&&s.track.id===r.track.id):o={track:r.track};let a=new Event("track");a.track=r.track,a.receiver=o,a.transceiver={receiver:o},a.streams=[t.stream],this.dispatchEvent(a)}),t.stream.getTracks().forEach(r=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(s=>s.track&&s.track.id===r.id):o={track:r};let a=new Event("track");a.track=r,a.receiver=o,a.transceiver={receiver:o},a.streams=[t.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),n.apply(this,arguments)}}else O(e,"track",n=>(n.transceiver||Object.defineProperty(n,"transceiver",{value:{receiver:n.receiver}}),n))}function Le(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){let n=function(r,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=r.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:r}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,p){let c=r.apply(this,arguments);return c||(c=n(this,s),this._senders.push(c)),c};let o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){o.apply(this,arguments);let p=this._senders.indexOf(s);p!==-1&&this._senders.splice(p,1)}}let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],i.apply(this,[o]),o.getTracks().forEach(a=>{this._senders.push(n(this,a))})};let t=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],t.apply(this,[o]),o.getTracks().forEach(a=>{let s=this._senders.find(p=>p.track===a);s&&this._senders.splice(this._senders.indexOf(s),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){let n=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){let t=n.apply(this,[]);return t.forEach(r=>r._pc=this),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Ae(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){let i=e.RTCPeerConnection.prototype.getSenders;i&&(e.RTCPeerConnection.prototype.getSenders=function(){let o=i.apply(this,[]);return o.forEach(a=>a._pc=this),o});let t=e.RTCPeerConnection.prototype.addTrack;t&&(e.RTCPeerConnection.prototype.addTrack=function(){let o=t.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){let o=this;return this._pc.getStats().then(a=>Ee(a,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){let i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){let r=i.apply(this,[]);return r.forEach(o=>o._pc=this),r}),O(e,"track",t=>(t.receiver._pc=t.srcElement,t)),e.RTCRtpReceiver.prototype.getStats=function(){let r=this;return this._pc.getStats().then(o=>Ee(o,r.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;let n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){let t=arguments[0],r,o,a;return this.getSenders().forEach(s=>{s.track===t&&(r?a=!0:r=s)}),this.getReceivers().forEach(s=>(s.track===t&&(o?a=!0:o=s),s.track===t)),a||r&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return n.apply(this,arguments)}}function Nt(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};let n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,s){if(!s)return n.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let p=n.apply(this,arguments);return this._shimmedLocalStreams[s.id]?this._shimmedLocalStreams[s.id].indexOf(p)===-1&&this._shimmedLocalStreams[s.id].push(p):this._shimmedLocalStreams[s.id]=[s,p],p};let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(c=>{if(this.getSenders().find(m=>m.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});let s=this.getSenders();i.apply(this,arguments);let p=this.getSenders().filter(c=>s.indexOf(c)===-1);this._shimmedLocalStreams[a.id]=[a].concat(p)};let t=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],t.apply(this,arguments)};let r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(s=>{let p=this._shimmedLocalStreams[s].indexOf(a);p!==-1&&this._shimmedLocalStreams[s].splice(p,1),this._shimmedLocalStreams[s].length===1&&delete this._shimmedLocalStreams[s]}),r.apply(this,arguments)}}function je(e,n){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&n.version>=65)return Nt(e);let i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){let l=i.apply(this);return this._reverseStreams=this._reverseStreams||{},l.map(m=>this._reverseStreams[m.id])};let t=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(l){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.getTracks().forEach(m=>{if(this.getSenders().find(h=>h.track===m))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[l.id]){let m=new e.MediaStream(l.getTracks());this._streams[l.id]=m,this._reverseStreams[m.id]=l,l=m}t.apply(this,[l])};let r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(l){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[l.id]||l]),delete this._reverseStreams[this._streams[l.id]?this._streams[l.id].id:l.id],delete this._streams[l.id]},e.RTCPeerConnection.prototype.addTrack=function(l,m){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(P=>P===l))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(P=>P.track===l))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let y=this._streams[m.id];if(y)y.addTrack(l),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let P=new e.MediaStream([l]);this._streams[m.id]=P,this._reverseStreams[P.id]=m,this.addStream(P)}return this.getSenders().find(P=>P.track===l)};function o(c,l){let m=l.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{let h=c._reverseStreams[f],y=c._streams[h.id];m=m.replace(new RegExp(y.id,"g"),h.id)}),new RTCSessionDescription({type:l.type,sdp:m})}function a(c,l){let m=l.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{let h=c._reverseStreams[f],y=c._streams[h.id];m=m.replace(new RegExp(h.id,"g"),y.id)}),new RTCSessionDescription({type:l.type,sdp:m})}["createOffer","createAnswer"].forEach(function(c){let l=e.RTCPeerConnection.prototype[c],m={[c](){let f=arguments;return arguments.length&&typeof arguments[0]=="function"?l.apply(this,[y=>{let P=o(this,y);f[0].apply(null,[P])},y=>{f[1]&&f[1].apply(null,y)},arguments[2]]):l.apply(this,arguments).then(y=>o(this,y))}};e.RTCPeerConnection.prototype[c]=m[c]});let s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?s.apply(this,arguments):(arguments[0]=a(this,arguments[0]),s.apply(this,arguments))};let p=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){let c=p.get.apply(this);return c.type===""?c:o(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(l){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!l._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(l._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(P=>l.track===P)&&(f=this._streams[h])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(l.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ge(e,n){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&n.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){let t=e.RTCPeerConnection.prototype[i],r={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=r[i]})}function Fe(e,n){O(e,"negotiationneeded",i=>{let t=i.target;if(!((n.version<72||t.getConfiguration&&t.getConfiguration().sdpSemantics==="plan-b")&&t.signalingState!=="stable"))return i})}var Se={};$(Se,{shimAddTransceiver:()=>Be,shimCreateAnswer:()=>He,shimCreateOffer:()=>Je,shimGetDisplayMedia:()=>Bt,shimGetParameters:()=>Ke,shimGetUserMedia:()=>ve,shimOnTrack:()=>Ue,shimPeerConnection:()=>ye,shimRTCDataChannel:()=>Ne,shimReceiverGetStats:()=>Ve,shimRemoveStream:()=>Ge,shimSenderGetStats:()=>ze});function ve(e,n){let i=e&&e.navigator,t=e&&e.MediaStreamTrack;if(i.getUserMedia=function(r,o,a){U("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(r).then(o,a)},!(n.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){let r=function(a,s,p){s in a&&!(p in a)&&(a[p]=a[s],delete a[s])},o=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),r(a.audio,"autoGainControl","mozAutoGainControl"),r(a.audio,"noiseSuppression","mozNoiseSuppression")),o(a)},t&&t.prototype.getSettings){let a=t.prototype.getSettings;t.prototype.getSettings=function(){let s=a.apply(this,arguments);return r(s,"mozAutoGainControl","autoGainControl"),r(s,"mozNoiseSuppression","noiseSuppression"),s}}if(t&&t.prototype.applyConstraints){let a=t.prototype.applyConstraints;t.prototype.applyConstraints=function(s){return this.kind==="audio"&&typeof s=="object"&&(s=JSON.parse(JSON.stringify(s)),r(s,"autoGainControl","mozAutoGainControl"),r(s,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[s])}}}}function Bt(e,n){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(t){if(!(t&&t.video)){let r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return t.video===!0?t.video={mediaSource:n}:t.video.mediaSource=n,e.navigator.mediaDevices.getUserMedia(t)})}function Ue(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ye(e,n){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),n.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){let o=e.RTCPeerConnection.prototype[r],a={[r](){return arguments[0]=new(r==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[r]=a[r]});let i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[o,a,s]=arguments;return t.apply(this,[o||null]).then(p=>{if(n.version<53&&!a)try{p.forEach(c=>{c.type=i[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;p.forEach((l,m)=>{p.set(m,Object.assign({},l,{type:i[l.type]||l.type}))})}return p}).then(a,s)}}function ze(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;let n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){let r=n.apply(this,[]);return r.forEach(o=>o._pc=this),r});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let r=i.apply(this,arguments);return r._pc=this,r}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Ve(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;let n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){let t=n.apply(this,[]);return t.forEach(r=>r._pc=this),t}),O(e,"track",i=>(i.receiver._pc=i.srcElement,i)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Ge(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(i){U("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&i.getTracks().includes(t.track)&&this.removeTrack(t)})})}function Ne(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Be(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;let n=e.RTCPeerConnection.prototype.addTransceiver;n&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let t=arguments[1]&&arguments[1].sendEncodings;t===void 0&&(t=[]),t=[...t];let r=t.length>0;r&&t.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});let o=n.apply(this,arguments);if(r){let{sender:a}=o,s=a.getParameters();(!("encodings"in s)||s.encodings.length===1&&Object.keys(s.encodings[0]).length===0)&&(s.encodings=t,a.sendEncodings=t,this.setParametersPromises.push(a.setParameters(s).then(()=>{delete a.sendEncodings}).catch(()=>{delete a.sendEncodings})))}return o})}function Ke(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;let n=e.RTCRtpSender.prototype.getParameters;n&&(e.RTCRtpSender.prototype.getParameters=function(){let t=n.apply(this,arguments);return"encodings"in t||(t.encodings=[].concat(this.sendEncodings||[{}])),t})}function Je(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;let n=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>n.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):n.apply(this,arguments)}}function He(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;let n=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>n.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):n.apply(this,arguments)}}var Pe={};$(Pe,{shimAudioContext:()=>we,shimCallbacksAPI:()=>$e,shimConstraints:()=>Kt,shimCreateOfferLegacy:()=>Ze,shimGetUserMedia:()=>qe,shimLocalStreamsAPI:()=>We,shimRTCIceServerUrls:()=>Ye,shimRemoteStreamsAPI:()=>Qe,shimTrackEventTransceiver:()=>Xe});function We(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){let n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(t){this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getAudioTracks().forEach(r=>n.call(this,r,t)),t.getVideoTracks().forEach(r=>n.call(this,r,t))},e.RTCPeerConnection.prototype.addTrack=function(t,...r){return r&&r.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),n.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(i){this._localStreams||(this._localStreams=[]);let t=this._localStreams.indexOf(i);if(t===-1)return;this._localStreams.splice(t,1);let r=i.getTracks();this.getSenders().forEach(o=>{r.includes(o.track)&&this.removeTrack(o)})})}}function Qe(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(i){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=i),this.addEventListener("track",this._onaddstreampoly=t=>{t.streams.forEach(r=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(r))return;this._remoteStreams.push(r);let o=new Event("addstream");o.stream=r,this.dispatchEvent(o)})})}});let n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){let t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(o=>{if(t._remoteStreams||(t._remoteStreams=[]),t._remoteStreams.indexOf(o)>=0)return;t._remoteStreams.push(o);let a=new Event("addstream");a.stream=o,t.dispatchEvent(a)})}),n.apply(t,arguments)}}}function $e(e){if(typeof e!="object"||!e.RTCPeerConnection)return;let n=e.RTCPeerConnection.prototype,i=n.createOffer,t=n.createAnswer,r=n.setLocalDescription,o=n.setRemoteDescription,a=n.addIceCandidate;n.createOffer=function(c,l){let m=arguments.length>=2?arguments[2]:arguments[0],f=i.apply(this,[m]);return l?(f.then(c,l),Promise.resolve()):f},n.createAnswer=function(c,l){let m=arguments.length>=2?arguments[2]:arguments[0],f=t.apply(this,[m]);return l?(f.then(c,l),Promise.resolve()):f};let s=function(p,c,l){let m=r.apply(this,[p]);return l?(m.then(c,l),Promise.resolve()):m};n.setLocalDescription=s,s=function(p,c,l){let m=o.apply(this,[p]);return l?(m.then(c,l),Promise.resolve()):m},n.setRemoteDescription=s,s=function(p,c,l){let m=a.apply(this,[p]);return l?(m.then(c,l),Promise.resolve()):m},n.addIceCandidate=s}function qe(e){let n=e&&e.navigator;if(n.mediaDevices&&n.mediaDevices.getUserMedia){let i=n.mediaDevices,t=i.getUserMedia.bind(i);n.mediaDevices.getUserMedia=r=>t(Kt(r))}!n.getUserMedia&&n.mediaDevices&&n.mediaDevices.getUserMedia&&(n.getUserMedia=(function(t,r,o){n.mediaDevices.getUserMedia(t).then(r,o)}).bind(n))}function Kt(e){return e&&e.video!==void 0?Object.assign({},e,{video:Oe(e.video)}):e}function Ye(e){if(!e.RTCPeerConnection)return;let n=e.RTCPeerConnection;e.RTCPeerConnection=function(t,r){if(t&&t.iceServers){let o=[];for(let a=0;a<t.iceServers.length;a++){let s=t.iceServers[a];s.urls===void 0&&s.url?(U("RTCIceServer.url","RTCIceServer.urls"),s=JSON.parse(JSON.stringify(s)),s.urls=s.url,delete s.url,o.push(s)):o.push(t.iceServers[a])}t.iceServers=o}return new n(t,r)},e.RTCPeerConnection.prototype=n.prototype,"generateCertificate"in n&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return n.generateCertificate}})}function Xe(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ze(e){let n=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(t){if(t){typeof t.offerToReceiveAudio<"u"&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);let r=this.getTransceivers().find(a=>a.receiver.track.kind==="audio");t.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):t.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof t.offerToReceiveVideo<"u"&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);let o=this.getTransceivers().find(a=>a.receiver.track.kind==="video");t.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):t.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return n.apply(this,arguments)}}function we(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var nt={};$(nt,{removeExtmapAllowMixed:()=>Te,shimAddIceCandidateNullOrEmpty:()=>W,shimConnectionState:()=>be,shimMaxMessageSize:()=>J,shimParameterlessSetLocalDescription:()=>Q,shimRTCIceCandidate:()=>K,shimRTCIceCandidateRelayProtocol:()=>_e,shimSendThrowTypeError:()=>H});var z=st(tt());function K(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;let n=e.RTCIceCandidate;e.RTCIceCandidate=function(t){if(typeof t=="object"&&t.candidate&&t.candidate.indexOf("a=")===0&&(t=JSON.parse(JSON.stringify(t)),t.candidate=t.candidate.substring(2)),t.candidate&&t.candidate.length){let r=new n(t),o=z.default.parseCandidate(t.candidate);for(let a in o)a in r||Object.defineProperty(r,a,{value:o[a]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new n(t)},e.RTCIceCandidate.prototype=n.prototype,O(e,"icecandidate",i=>(i.candidate&&Object.defineProperty(i,"candidate",{value:new e.RTCIceCandidate(i.candidate),writable:"false"}),i))}function _e(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||O(e,"icecandidate",n=>{if(n.candidate){let i=z.default.parseCandidate(n.candidate.candidate);i.type==="relay"&&(n.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[i.priority>>24])}return n})}function J(e,n){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});let i=function(s){if(!s||!s.sdp)return!1;let p=z.default.splitSections(s.sdp);return p.shift(),p.some(c=>{let l=z.default.parseMLine(c);return l&&l.kind==="application"&&l.protocol.indexOf("SCTP")!==-1})},t=function(s){let p=s.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(p===null||p.length<2)return-1;let c=parseInt(p[1],10);return c!==c?-1:c},r=function(s){let p=65536;return n.browser==="firefox"&&(n.version<57?s===-1?p=16384:p=2147483637:n.version<60?p=n.version===57?65535:65536:p=2147483637),p},o=function(s,p){let c=65536;n.browser==="firefox"&&n.version===57&&(c=65535);let l=z.default.matchPrefix(s.sdp,"a=max-message-size:");return l.length>0?c=parseInt(l[0].substring(19),10):n.browser==="firefox"&&p!==-1&&(c=2147483637),c},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,n.browser==="chrome"&&n.version>=76){let{sdpSemantics:p}=this.getConfiguration();p==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){let p=t(arguments[0]),c=r(p),l=o(arguments[0],p),m;c===0&&l===0?m=Number.POSITIVE_INFINITY:c===0||l===0?m=Math.max(c,l):m=Math.min(c,l);let f={};Object.defineProperty(f,"maxMessageSize",{get(){return m}}),this._sctp=f}return a.apply(this,arguments)}}function H(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function n(t,r){let o=t.send;t.send=function(){let s=arguments[0],p=s.length||s.size||s.byteLength;if(t.readyState==="open"&&r.sctp&&p>r.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+r.sctp.maxMessageSize+" bytes)");return o.apply(t,arguments)}}let i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){let r=i.apply(this,arguments);return n(r,this),r},O(e,"datachannel",t=>(n(t.channel,t.target),t))}function be(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;let n=e.RTCPeerConnection.prototype;Object.defineProperty(n,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(n,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(i){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),i&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=i)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(i=>{let t=n[i];n[i]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{let o=r.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;let a=new Event("connectionstatechange",r);o.dispatchEvent(a)}return r},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),t.apply(this,arguments)}})}function Te(e,n){if(!e.RTCPeerConnection||n.browser==="chrome"&&n.version>=71||n.browser==="safari"&&n._safariVersion>=13.1)return;let i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){let o=r.sdp.split(`
`).filter(a=>a.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&r instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:r.type,sdp:o}):r.sdp=o}return i.apply(this,arguments)}}function W(e,n){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.addIceCandidate;!i||i.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(n.browser==="chrome"&&n.version<78||n.browser==="firefox"&&n.version<68||n.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Q(e,n){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.setLocalDescription;!i||i.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let r=arguments[0]||{};if(typeof r!="object"||r.type&&r.sdp)return i.apply(this,arguments);if(r={type:r.type,sdp:r.sdp},!r.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer";break}return r.sdp||r.type!=="offer"&&r.type!=="answer"?i.apply(this,[r]):(r.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(a=>i.apply(this,[a]))})}var qt=st(tt());function Jt({window:e}={},n={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let i=he,t=Vt(e),r={browserDetails:t,commonShim:nt,extractVersion:F,disableLog:Ut,disableWarnings:zt,sdp:qt};switch(t.browser){case"chrome":if(!Ce||!ge||!n.shimChrome)return i("Chrome shim is not included in this adapter release."),r;if(t.version===null)return i("Chrome shim can not determine version, not shimming."),r;i("adapter.js shimming chrome."),r.browserShim=Ce,W(e,t),Q(e,t),ue(e,t),Ie(e,t),ge(e,t),De(e,t),je(e,t),Le(e,t),Ae(e,t),Fe(e,t),K(e,t),_e(e,t),be(e,t),J(e,t),H(e,t),Te(e,t);break;case"firefox":if(!Se||!ye||!n.shimFirefox)return i("Firefox shim is not included in this adapter release."),r;i("adapter.js shimming firefox."),r.browserShim=Se,W(e,t),Q(e,t),ve(e,t),ye(e,t),Ue(e,t),Ge(e,t),ze(e,t),Ve(e,t),Ne(e,t),Be(e,t),Ke(e,t),Je(e,t),He(e,t),K(e,t),be(e,t),J(e,t),H(e,t);break;case"safari":if(!Pe||!n.shimSafari)return i("Safari shim is not included in this adapter release."),r;i("adapter.js shimming safari."),r.browserShim=Pe,W(e,t),Q(e,t),Ye(e,t),Ze(e,t),$e(e,t),We(e,t),Qe(e,t),Xe(e,t),qe(e,t),we(e,t),K(e,t),_e(e,t),J(e,t),H(e,t),Te(e,t);break;default:i("Unsupported browser!");break}return r}var jn=Jt({window:typeof window>"u"?void 0:window});var tn=["videoEl"],nn=["canvasEl"],rn=e=>({"no-shadow":e}),on=e=>({correct:e});function sn(e,n){e&1&&S(0,"div",24)}function an(e,n){if(e&1&&(C(0,"div",25),k(1),g()),e&2){let i=b();u(),D(i.unsupportedMsg)}}function cn(e,n){if(e&1){let i=I();C(0,"button",26),x("click",function(){R(i);let r=b();return M(r.onTapToStart())}),k(1," Tap to start camera "),g()}}function pn(e,n){if(e&1&&S(0,"img",27),e&2){let i=b();v("src",i.previewSrc,q)}}function ln(e,n){if(e&1&&(C(0,"div",28)(1,"span",29),k(2),g(),C(3,"span",30),k(4),Me(5,"number"),g()()),e&2){let i=b();u(2),D(i.liveLabel),u(2),X("",ft(5,2,i.liveConfidence*100,"1.0-1"),"%")}}function dn(e,n){if(e&1&&(C(0,"span",31),k(1),g()),e&2){let i=b();v("ngClass",j(2,on,i.resultText.toLowerCase().includes("correct"))),u(),D(i.resultText)}}function mn(e,n){e&1&&S(0,"div",32)}function fn(e,n){if(e&1){let i=I();C(0,"ion-button",33),x("click",function(){R(i);let r=b();return M(r.onRetry())}),S(1,"ion-icon",34),g()}}function hn(e,n){if(e&1){let i=I();C(0,"ion-fab",35)(1,"ion-fab-button",36),x("click",function(){R(i);let r=b();return M(r.switchCamera())}),S(2,"ion-icon",37),g()()}}var Ht=(()=>{let n=class n{constructor(t,r,o){this.modalCtrl=t,this.scrollService=r,this.storageService=o,this.MODEL_SLUG="asl-alphabet-recognition",this.MODEL_VERSION="7",this.API_KEY="EqFTjiqhfpdUYDL1N9UG",this.targetLetter="A",this.frameIntervalMs=250,this.minVoteConfidence=.45,this.maxWaitMs=3e4,this.running=!1,this.isScanning=!1,this.showRetry=!1,this.resultText="",this.liveLabel="",this.liveConfidence=0,this.previewSrc=null,this.stream=null,this.needsTapToStart=!1,this.unsupportedMsg=null,this.showSplash=!0,this.currentFacing="environment",this.hasMultipleCams=!1,de({arrowBack:me,repeat:Et,cameraReverse:bt})}ngOnInit(){return _(this,null,function*(){if(this.captureCanvas=document.createElement("canvas"),!this.ensureGetUserMedia()){this.unsupportedMsg="Camera not supported in this WebView. Please update Android System WebView / iOS.";return}let t=yield this.storageService.getCameraFacing();(t==="user"||t==="environment")&&(this.currentFacing=t),yield this.startCamera(),this.startScanningUntilHit(),new ResizeObserver(()=>this.fitCanvasToWrapper()).observe(document.querySelector(".video-wrap"))})}ngOnDestroy(){this.stopScanning(),this.releaseCamera()}ionViewWillLeave(){var t;this.resultText&&((t=this.resultText)!=null&&t.toString().toLowerCase().includes("correct"))&&this.logCompleted()}ensureGetUserMedia(){let t=navigator;if("mediaDevices"in navigator||(t.mediaDevices={}),!navigator.mediaDevices.getUserMedia){let r=t.getUserMedia||t.webkitGetUserMedia||t.mozGetUserMedia||t.msGetUserMedia;if(!r)return!1;t.mediaDevices.getUserMedia=o=>new Promise((a,s)=>r.call(navigator,o,a,s))}return!0}waitLoadedMetadata(t){return new Promise(r=>{if(t.readyState>=1&&t.videoWidth&&t.videoHeight)return r();t.addEventListener("loadedmetadata",()=>r(),{once:!0})})}waitCanPlay(t){return new Promise(r=>{if(t.readyState>=2)return r();t.addEventListener("canplay",()=>r(),{once:!0})})}getDeviceIdForFacing(t){return _(this,null,function*(){try{let o=(yield navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput");if(o.length===0)return null;if(o.length===1)return o[0].deviceId;let a=o.find(s=>{let p=(s.label||"").toLowerCase();return p?t==="environment"?p.includes("back")||p.includes("rear")||p.includes("environment"):p.includes("front")||p.includes("user"):!1});return a?a.deviceId:(t==="environment"?o[o.length-1]:o[0]).deviceId}catch{return null}})}startCamera(){return _(this,null,function*(){this.showSplash=!0;let t=this.videoEl.nativeElement;t.muted=!0,t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.setAttribute("autoplay",""),t.setAttribute("preload","auto"),t.setAttribute("disablePictureInPicture",""),t.setAttribute("controlsList","nodownload noplaybackrate noremoteplayback");let r=()=>_(this,null,function*(){return navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:this.currentFacing}},audio:!1})}),o=()=>_(this,null,function*(){let a=yield this.getDeviceIdForFacing(this.currentFacing);if(!a)throw new Error("No suitable camera deviceId");return navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:a}},audio:!1})});try{try{this.stream=yield r()}catch{this.stream=yield o()}t.srcObject=this.stream;try{let a=yield navigator.mediaDevices.enumerateDevices();this.hasMultipleCams=a.filter(s=>s.kind==="videoinput").length>1}catch{this.hasMultipleCams=!1}yield this.waitLoadedMetadata(t);try{yield t.play(),this.needsTapToStart=!1}catch{this.needsTapToStart=!0}yield this.waitCanPlay(t)}catch(a){console.error("getUserMedia failed:",a),this.unsupportedMsg="Unable to open camera on this device."}this.showSplash=!1,this.storageService.setCameraFacing(this.currentFacing)})}onTapToStart(){return _(this,null,function*(){try{yield this.videoEl.nativeElement.play(),this.needsTapToStart=!1}catch(t){console.warn("play() still blocked",t)}})}releaseCamera(){var r;let t=(r=this.videoEl)==null?void 0:r.nativeElement;t!=null&&t.srcObject&&(t.srcObject.getTracks().forEach(o=>o.stop()),t.srcObject=null),this.stream&&(this.stream=null)}switchCamera(){return _(this,null,function*(){this.currentFacing=this.currentFacing==="user"?"environment":"user",this.releaseCamera(),yield this.startCamera()})}startScanningUntilHit(){this.running||(this.running=!0,this.previewSrc=null,this.resultText="",this.liveLabel="",this.liveConfidence=0,this.showRetry=!1,this.isScanning=!0,this.frameTimer=setInterval(()=>this.captureAndPredictOnce().catch(console.error),this.frameIntervalMs),this.timeoutTimer=setTimeout(()=>{this.running&&(this.stopScanning(),this.resultText="Time out \u2014 try again",this.capturePreview(),this.showRetry=!0)},this.maxWaitMs))}stopScanning(){this.running=!1,this.frameTimer&&(clearInterval(this.frameTimer),this.frameTimer=null),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.isScanning=!1}captureAndPredictOnce(){return _(this,null,function*(){var f;let t=this.videoEl.nativeElement;if(t.videoWidth===0||t.videoHeight===0||t.readyState<2)return;let r=this.captureCanvas;r.width=t.videoWidth,r.height=t.videoHeight;let o=r.getContext("2d");if(!o)return;o.drawImage(t,0,0,r.width,r.height);let a=r.toDataURL("image/jpeg",.9).split(",")[1],s=`https://classify.roboflow.com/${this.MODEL_SLUG}/${this.MODEL_VERSION}?api_key=${this.API_KEY}`,p=yield fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a});if(!p.ok)return;let c=yield p.json();if((f=c.predictions)!=null&&f.length){let h=[...c.predictions].sort((y,P)=>P.confidence-y.confidence)[0];this.liveLabel=h.class.toUpperCase(),this.liveConfidence=h.confidence}else this.liveLabel="",this.liveConfidence=0;let l=this.targetLetter.toUpperCase();(c.predictions||[]).some(h=>{var y;return((y=h.class)==null?void 0:y.toUpperCase())===l&&h.confidence>=this.minVoteConfidence})&&(console.log("found image",r.toDataURL("image/jpeg",.9)),this.stopScanning(),this.resultText="Correct!",this.capturePreview(),this.showRetry=!0,this.logCompleted()),this.drawOverlay()})}fitCanvasToWrapper(){var o;let t=document.querySelector(".video-wrap"),r=(o=this.canvasEl)==null?void 0:o.nativeElement;!t||!r||(r.style.width="100%",r.style.height="100%")}drawOverlay(){let t=this.canvasEl.nativeElement,r=t.getBoundingClientRect(),o=Math.max(1,Math.floor(r.width)),a=Math.max(1,Math.floor(r.height));(t.width!==o||t.height!==a)&&(t.width=o,t.height=a);let s=t.getContext("2d");if(!s)return;s.clearRect(0,0,o,a);let p=Math.floor(o*.55),c=Math.floor(a*.55),l=Math.floor((o-p)/2),m=Math.floor((a-c)/2);s.save(),s.lineWidth=3,s.setLineDash([8,6]),s.strokeStyle="rgba(30,144,255,0.9)",s.strokeRect(l,m,p,c),s.restore()}capturePreview(){let t=this.videoEl.nativeElement,o=this.canvasEl.nativeElement.getBoundingClientRect(),a=Math.max(1,Math.floor(o.width)),s=Math.max(1,Math.floor(o.height)),p=document.createElement("canvas");p.width=a,p.height=s;let c=p.getContext("2d");if(!c)return;c.fillStyle="#000",c.fillRect(0,0,a,s);let l=t.videoWidth,m=t.videoHeight;if(l&&m){let rt=Math.min(a/l,s/m),it=Math.floor(l*rt),ot=Math.floor(m*rt),Wt=Math.floor((a-it)/2),Qt=Math.floor((s-ot)/2);c.drawImage(t,Wt,Qt,it,ot)}c.save(),c.lineWidth=3,c.setLineDash([8,6]),c.strokeStyle="rgba(30,144,255,0.9)";let f=Math.floor(a*.55),h=Math.floor(s*.55),y=Math.floor((a-f)/2),P=Math.floor((s-h)/2);c.strokeRect(y,P,f,h),c.restore(),this.previewSrc=p.toDataURL("image/png")}onRetry(){this.resultText="",this.previewSrc=null,this.showRetry=!1,this.startScanningUntilHit()}close(){return _(this,null,function*(){let t=yield this.modalCtrl.getTop();t==null||t.dismiss({result:this.resultText,currentFacing:this.currentFacing})})}logCompleted(){let t=[...this.currentProfile.progress.alphabet.compeleted];t.some(r=>r.toLowerCase().includes(this.targetLetter.toLowerCase()))||t.push(this.targetLetter),this.currentProfile.progress.alphabet.compeleted=t,this.storageService.saveProfile(this.currentProfile)}};n.\u0275fac=function(r){return new(r||n)(E(ce),E(fe),E(le))},n.\u0275cmp=Y({type:n,selectors:[["app-scan"]],viewQuery:function(r,o){if(r&1&&(V(tn,7),V(nn,7)),r&2){let a;G(a=N())&&(o.videoEl=a.first),G(a=N())&&(o.canvasEl=a.first)}},decls:30,vars:19,consts:[["canvasEl",""],["videoEl",""],[3,"translucent","ngClass"],["slot","start"],[3,"click"],["name","arrow-back","slot","icon-only"],[2,"text-align","center"],["slot","end",2,"width","48px"],[2,"margin","0"],[3,"fullscreen"],[1,"stage","fullscreen"],[1,"video-wrap"],[3,"hidden"],["class","video-splash",4,"ngIf"],["autoplay","","playsinline","","muted","",3,"hidden"],["class","unsupported-msg",4,"ngIf"],["class","tap-start",3,"click",4,"ngIf"],["alt","ASL snapshot","class","preview-img",3,"src",4,"ngIf"],["class","live-pill safe-botom",4,"ngIf"],["class","result safe-botom",3,"ngClass",4,"ngIf"],[1,"bottom-ctr","safe-botom"],["class","spinner-scan","aria-label","scanning...",4,"ngIf"],["class","retry-btn","size","large","shape","round","fill","solid",3,"click",4,"ngIf"],["class","fab-switch","vertical","bottom","horizontal","end",4,"ngIf"],[1,"video-splash"],[1,"unsupported-msg"],[1,"tap-start",3,"click"],["alt","ASL snapshot",1,"preview-img",3,"src"],[1,"live-pill","safe-botom"],[1,"cls"],[1,"pct"],[1,"result","safe-botom",3,"ngClass"],["aria-label","scanning...",1,"spinner-scan"],["size","large","shape","round","fill","solid",1,"retry-btn",3,"click"],["name","repeat"],["vertical","bottom","horizontal","end",1,"fab-switch"],["size","small","aria-label","Switch camera",3,"click"],["name","camera-reverse"]],template:function(r,o){if(r&1){let a=I();C(0,"ion-header",2),Me(1,"async"),C(2,"ion-toolbar")(3,"ion-buttons",3)(4,"ion-button",4),x("click",function(){return R(a),M(o.close())}),S(5,"ion-icon",5),g()(),C(6,"ion-title",6),k(7,"Scan"),g(),S(8,"div",7),g(),C(9,"ion-toolbar")(10,"ion-title",6)(11,"h1",8),k(12),g()()()(),C(13,"ion-content",9)(14,"div",10)(15,"div",11),S(16,"canvas",12,0),T(18,sn,1,0,"div",13),S(19,"video",14,1),T(21,an,2,1,"div",15)(22,cn,2,0,"button",16)(23,pn,1,1,"img",17)(24,ln,6,5,"div",18)(25,dn,2,4,"span",19),C(26,"div",20),T(27,mn,1,0,"div",21)(28,fn,2,0,"ion-button",22),g(),T(29,hn,3,0,"ion-fab",23),g()()()}r&2&&(v("translucent",!0)("ngClass",j(17,rn,mt(1,15,o.scrollService.scrollTop$)===0)),u(12),D(o.targetLetter),u(),v("fullscreen",!0),u(3),v("hidden",!!o.previewSrc),u(2),v("ngIf",o.showSplash&&!o.previewSrc),u(),v("hidden",!!o.previewSrc),u(2),v("ngIf",o.unsupportedMsg),u(),v("ngIf",o.needsTapToStart&&!o.previewSrc&&!o.unsupportedMsg),u(),v("ngIf",o.previewSrc),u(),v("ngIf",o.isScanning&&o.liveLabel),u(),v("ngIf",o.resultText),u(2),v("ngIf",o.isScanning),u(),v("ngIf",o.showRetry),u(),v("ngIf",o.hasMultipleCams))},dependencies:[ee,Z,w,Ct,vt,B,oe,se,ae,te,ne,pe,re,ie],styles:["[_nghost-%COMP%]{--ion-background-color: #000}ion-content[_ngcontent-%COMP%]{--background: #000}.stage.fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;width:100vw;height:100vh;overflow:hidden;background:#000}.video-wrap[_ngcontent-%COMP%]{position:relative;top:0;right:0;bottom:0;left:0;width:100%;height:100%;display:flex}video[_ngcontent-%COMP%]{top:0;right:0;bottom:0;left:0;object-fit:contain;background:#000;border:0;position:absolute;width:100%!important;height:480px!important;transform:translateY(25%)}video[_ngcontent-%COMP%]::-webkit-media-controls, video[_ngcontent-%COMP%]::-webkit-media-controls-enclosure, video[_ngcontent-%COMP%]::-webkit-media-controls-overlay-play-button, video[_ngcontent-%COMP%]::-webkit-media-controls-start-playback-button{display:none!important}canvas[_ngcontent-%COMP%]{top:0;right:0;bottom:0;left:0;pointer-events:none;border:0;object-fit:contain;position:absolute;z-index:99;width:100%!important;height:480px!important;transform:translateY(25%)}ion-header[_ngcontent-%COMP%]{--background: rgba(0, 0, 0, .3);--ion-color-base: transparent;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);color:#fff}ion-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff}ion-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: #fff}.live-pill[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:116px;transform:translate(-50%);z-index:110;display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:12px;background:#0000008c;color:#fff;border:1.5px solid rgba(255,255,255,.9);font-weight:600}.live-pill[_ngcontent-%COMP%]   .cls[_ngcontent-%COMP%]{text-transform:uppercase}.live-pill[_ngcontent-%COMP%]   .pct[_ngcontent-%COMP%]{opacity:.95}.result[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:20px;position:absolute;left:50%;bottom:166px;transform:translate(-50%);z-index:110;background-color:#000;padding:5px 10px;border-radius:10px}.result[_ngcontent-%COMP%]:not(.correct){color:#f2a6a6}.preview-img[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;object-fit:contain;background:#000;z-index:100}.bottom-ctr[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:24px;transform:translate(-50%);z-index:110;display:grid;place-items:center}.spinner-scan[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;border:4px solid rgba(255,255,255,.25);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.retry-btn[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .15);--background-activated: rgba(255, 255, 255, .25);--border-radius: 50%;--padding-start: 0;--padding-end: 0;width:70px;height:70px;display:grid;place-items:center;margin-top:8px}.retry-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;color:#fff}.tap-start[_ngcontent-%COMP%], .unsupported-msg[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);z-index:120;color:#fff;text-align:center}.tap-start[_ngcontent-%COMP%]{bottom:90px;padding:10px 16px;border-radius:999px;border:none;background:#ffffff24;font-weight:700;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.unsupported-msg[_ngcontent-%COMP%]{bottom:32px;width:88%;opacity:.9;font-weight:600;line-height:1.2}.video-splash[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;background:#000;z-index:100}video[_ngcontent-%COMP%]::-webkit-media-controls-start-playback-button, video[_ngcontent-%COMP%]::-webkit-media-controls-overlay-play-button{display:none!important}.safe-botom[_ngcontent-%COMP%]{margin-bottom:calc(var(--safe-bottom, 0))!important}.fab-switch[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:24px;z-index:120;margin-bottom:calc(var(--safe-bottom, 0))!important}.switch-btn[_ngcontent-%COMP%]{--background: rgba(255,255,255,.15);--background-activated: rgba(255,255,255,.25);--border-radius: 50%;width:48px;height:48px;margin-top:10px}.switch-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px}"]});let e=n;return e})();var un=e=>({"no-shadow":e}),gn=e=>({show:e});function Cn(e,n){e&1&&(C(0,"div",11),S(1,"ion-icon",27),g())}function vn(e,n){if(e&1&&S(0,"img",28),e&2){let i=b();v("src",i.imgSrc,q)("alt","ASL letter "+i.selected)}}function yn(e,n){e&1&&Re(0)}function Sn(e,n){e&1&&S(0,"ion-icon",23)}function Pn(e,n){e&1&&S(0,"ion-icon",24)}function _n(e,n){e&1&&Re(0)}function bn(e,n){if(e&1){let i=I();C(0,"ion-button",32),x("click",function(){let r=R(i).$implicit,o=b(3),a=A(16);return o.selectLetter(r),M(a.activated=!1)}),k(1),g()}if(e&2){let i=n.$implicit,t=b(3);pt("active",t.selected===i),ct("aria-pressed",t.selected===i),u(),X(" ",i," ")}}function Tn(e,n){if(e&1&&(lt(0),T(1,bn,2,4,"ion-button",31),dt()),e&2){let i=b(2);u(),v("ngForOf",i.letters)}}function xn(e,n){if(e&1&&(C(0,"div",29),T(1,Tn,2,1,"ng-container",30),g()),e&2){let i=b();v("ngClass",j(2,gn,i.showKeyPad)),u(),v("ngIf",i.showKeyPad)}}var Xn=(()=>{let n=class n{get imgSrc(){var t;return(t=this.imgByLetter[this.selected])!=null?t:""}get isComplted(){var t,r,o,a,s,p,c;return(o=(r=(t=this.currentProfile)==null?void 0:t.progress)==null?void 0:r.alphabet)!=null&&o.compeleted?(c=(p=(s=(a=this.currentProfile)==null?void 0:a.progress)==null?void 0:s.alphabet)==null?void 0:p.compeleted)==null?void 0:c.some(l=>l.toLowerCase()===this.selected.toLowerCase()):!1}constructor(t,r,o,a){this.scrollService=t,this.modalCtrl=r,this.authService=o,this.storageService=a,this.letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),this.imgByLetter=this.letters.reduce((s,p)=>(s[p]=`assets/asl/${p}.png`,s),{}),this.selected="A",this.showKeyPad=!1,this.showShadow=!1,this.cameraFacing="environment",this.storageService.getCameraFacing().then(s=>{this.cameraFacing=s||"environment"}),de({arrowBack:me,arrowForward:_t,chevronUp:Rt,chevronDown:xt,keypad:kt,grid:Mt,scan:It,play:Ot,star:Dt,trophy:Lt,checkmarkCircle:Tt}),this.scrollService.scrollTop$.subscribe(s=>{this.showShadow=s>0})}ngOnInit(){return _(this,null,function*(){yield this.loadProfile(),yield this.saveLastOpened(this.selected)})}ngAfterViewInit(){this.scrollService.register(this.content)}selectLetter(t){return _(this,null,function*(){this.selected=t,this.showKeyPad=!1,this.saveLastOpened(this.selected)})}get currentIndex(){let t=this.letters.indexOf(this.selected);return t<0?0:t}selectByOffset(t){let r=this.letters.length,o=(this.currentIndex+t+r)%r;this.selected=this.letters[o]}next(){return _(this,null,function*(){this.selectByOffset(1),this.showKeyPad=!1,this.saveLastOpened(this.selected)})}prev(){return _(this,null,function*(){this.selectByOffset(-1),this.showKeyPad=!1,this.saveLastOpened(this.selected)})}onShowScanner(t){return _(this,null,function*(){let r=yield this.modalCtrl.create({component:Ht,cssClass:"modal-fullscreen scanner",backdropDismiss:!1,canDismiss:!0,id:"scanner",componentProps:{targetLetter:t,currentFacing:this.cameraFacing,currentProfile:this.currentProfile}});yield r.present(),r.onDidDismiss().then(o=>{console.log(o);let{result:a,currentFacing:s}=o==null?void 0:o.data;a&&(a!=null&&a.toString().toLowerCase().includes("correct"))&&this.logCompleted(),s&&(this.cameraFacing=s)})})}onKey(t){t.key==="ArrowRight"?this.next():t.key==="ArrowLeft"&&this.prev()}loadProfile(){return _(this,null,function*(){var t,r,o,a,s,p,c,l,m;this.currentProfile=yield this.storageService.getSavedProfile(),(o=(r=(t=this.currentProfile)==null?void 0:t.progress)==null?void 0:r.alphabet)!=null&&o.lastOpened&&((p=(s=(a=this.currentProfile)==null?void 0:a.progress)==null?void 0:s.alphabet)==null?void 0:p.lastOpened)!==""?this.selected=(m=(l=(c=this.currentProfile)==null?void 0:c.progress)==null?void 0:l.alphabet)==null?void 0:m.lastOpened.toString().toUpperCase():this.selected="A"})}saveLastOpened(t){var r,o;(o=(r=this.currentProfile)==null?void 0:r.progress)!=null&&o.alphabet&&(this.currentProfile.progress.alphabet.lastOpened=t),this.authService.setCurrentLogin(this.currentProfile),this.storageService.saveProfile(this.currentProfile)}logCompleted(){let t=[...this.currentProfile.progress.alphabet.compeleted];t.some(r=>r.toLowerCase().includes(this.selected.toLowerCase()))||t.push(this.selected),this.currentProfile.progress.alphabet.compeleted=t,this.storageService.saveProfile(this.currentProfile)}};n.\u0275fac=function(r){return new(r||n)(E(fe),E(ce),E(Pt),E(le))},n.\u0275cmp=Y({type:n,selectors:[["app-alphabet"]],viewQuery:function(r,o){if(r&1&&V(B,7),r&2){let a;G(a=N())&&(o.content=a.first)}},hostBindings:function(r,o){r&1&&x("keydown",function(s){return o.onKey(s)},!1,at)},decls:36,vars:11,consts:[["moreFab",""],["letterButtons",""],[3,"translucent","ngClass"],["slot","start"],["default-href","/home"],["slot","end",1,"keypadbutton"],["fill","clear",3,"click"],["name","keypad"],[1,"page",3,"fullscreen"],[1,"wrapper"],[1,"preview-frame"],[2,"position","absolute"],[3,"src","alt",4,"ngIf"],[4,"ngTemplateOutlet"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","scan"],[1,"alphabet-controls"],[1,"slide-control"],["size","large","shape","round","fill","outline","aria-label","Previous letter",1,"next-prev",3,"click"],["slot","icon-only","name","arrow-back"],[1,"current"],["shape","round","fill","clear","size","small",3,"click"],["slot","icon-only","name","chevron-down"],["slot","icon-only","name","chevron-up"],["size","large","shape","round","fill","outline","aria-label","Next letter",1,"next-prev",3,"click"],["slot","icon-only","name","arrow-forward"],["color","success","name","checkmark-circle","slot","icon-only",1,"done"],[3,"src","alt"],["role","group","aria-label","ASL Alphabet",1,"keypad",3,"ngClass"],[4,"ngIf"],["size","small","shape","round","class","key",3,"active","click",4,"ngFor","ngForOf"],["size","small","shape","round",1,"key",3,"click"]],template:function(r,o){if(r&1){let a=I();C(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-buttons",3),S(3,"ion-back-button",4),g(),C(4,"ion-title"),k(5,"Alphabet"),g(),C(6,"ion-buttons",5)(7,"ion-button",6),x("click",function(){return R(a),M(o.showKeyPad=!o.showKeyPad)}),S(8,"ion-icon",7),g()()()(),C(9,"ion-content",8)(10,"div",9)(11,"div",10),T(12,Cn,2,0,"div",11)(13,vn,1,2,"img",12),g(),T(14,yn,1,0,"ng-container",13),C(15,"ion-fab",14,0)(17,"ion-fab-button",15),x("click",function(){return R(a),M(o.onShowScanner(o.selected))}),S(18,"ion-icon",16),g()()()(),C(19,"ion-footer")(20,"ion-toolbar")(21,"div",17)(22,"div",18)(23,"ion-button",19),x("click",function(){R(a);let p=A(16);return o.prev(),M(p.activated=!1)}),S(24,"ion-icon",20),g(),C(25,"div",21)(26,"ion-button",22),x("click",function(){R(a);let p=A(16);return o.showKeyPad=!o.showKeyPad,M(p.activated=!1)}),T(27,Sn,1,0,"ion-icon",23)(28,Pn,1,0,"ion-icon",24),g(),C(29,"h1"),k(30),g()(),C(31,"ion-button",25),x("click",function(){R(a);let p=A(16);return o.next(),M(p.activated=!1)}),S(32,"ion-icon",26),g()(),T(33,_n,1,0,"ng-container",13),g()()(),T(34,xn,2,4,"ng-template",null,1,ht)}if(r&2){let a=A(35);v("translucent",!0)("ngClass",j(9,un,!o.showShadow)),u(9),v("fullscreen",!1),u(3),xe(o.isComplted?12:-1),u(),v("ngIf",o.imgSrc),u(),v("ngTemplateOutlet",a),u(13),xe(o.showKeyPad?27:28),u(3),D(o.selected),u(3),v("ngTemplateOutlet",a)}},dependencies:[ee,Z,ut,w,gt,B,ae,ne,te,pe,se,oe,yt,re,ie,St],styles:["ion-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:700}.page[_ngcontent-%COMP%]{--background: #ffffff;display:flex;flex-direction:column;gap:14px}.preview-frame[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;border-radius:14px;background:#f2f2f6;border:1px solid #ececec;display:flex;overflow:hidden;height:100%;margin:0 20px;padding:10px;position:relative}.preview-frame[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.key[_ngcontent-%COMP%]{--background: #fff;--border-radius: 10px;font-weight:600;font-size:1rem;letter-spacing:.4px;--padding-top: 1rem;--padding-bottom: 1rem;--padding-start: 0;--padding-end: 0;margin:0!important;--color: #333}@media screen and (max-width: 480px){.key[_ngcontent-%COMP%]{--padding-top: 1.3rem;--padding-bottom: 1.3rem}}.key.active[_ngcontent-%COMP%]{--background: var(--ion-color-primary, #0054e9);--color: var(--ion-color-primary-contrast, #fff)}.keypad[_ngcontent-%COMP%]{width:100%;max-width:520px;margin:10px auto;grid-template-columns:repeat(7,1fr);gap:4px;overflow:hidden;display:none;height:250px;transition:height .5s;padding:20px}.keypad[_ngcontent-%COMP%]:not(.show){animation:_ngcontent-%COMP%_hideDelay .5s forwards}.keypad.show[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_showDelay .5s forwards}.alphabet-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.alphabet-controls[_ngcontent-%COMP%]   .slide-control[_ngcontent-%COMP%]{margin:10px auto;display:grid;gap:20px;grid-template-columns:repeat(3,1fr);align-items:end}@media screen and (max-width: 480px){.alphabet-controls[_ngcontent-%COMP%]   .slide-control[_ngcontent-%COMP%]{margin:0 auto}}@media screen and (max-width: 480px){.alphabet-controls[_ngcontent-%COMP%]   .slide-control[_ngcontent-%COMP%]   .next-prev[_ngcontent-%COMP%]{height:70px;width:70px}}.alphabet-controls[_ngcontent-%COMP%]   .slide-control[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.alphabet-controls[_ngcontent-%COMP%]   .slide-control[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:20px;width:20px;padding:0!important;display:none}@media screen and (max-width: 480px){.alphabet-controls[_ngcontent-%COMP%]   .slide-control[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:block!important}}.alphabet-controls[_ngcontent-%COMP%]   .slide-control[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.8rem}.alphabet-controls[_ngcontent-%COMP%]   .slide-control[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;padding:10px 0}@media screen and (max-width: 480px){.alphabet-controls[_ngcontent-%COMP%]   .slide-control[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:20px 0}}@keyframes _ngcontent-%COMP%_hideDelay{0%{height:250px;padding:20px;margin:10px auto}to{height:0px;padding:0;margin:0}}@keyframes _ngcontent-%COMP%_showDelay{0%{height:0px;padding:0;margin:0}20%{height:250px;padding:20px;margin:10px auto}}@media screen and (max-width: 480px){ion-footer[_ngcontent-%COMP%]   .alphabet-controls[_ngcontent-%COMP%]   .keypad[_ngcontent-%COMP%]{display:grid!important}}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:100%;box-sizing:border-box;padding-bottom:20px}.wrapper[_ngcontent-%COMP%]   .preview-frame[_ngcontent-%COMP%]{margin-left:20px}.wrapper[_ngcontent-%COMP%]   .keypad.show[_ngcontent-%COMP%]{width:70%;display:grid;height:fit-content!important;margin:0 20px 0 0!important;padding:5px;gap:3px}.wrapper[_ngcontent-%COMP%]   .keypad.show[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{height:20px;--padding-top: 0px;--padding-bottom: 0px}@media screen and (max-width: 480px){.wrapper[_ngcontent-%COMP%]   .keypad[_ngcontent-%COMP%]{display:none!important}}.keypadbutton[_ngcontent-%COMP%]{display:block}.keypadbutton[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem!important}@media screen and (max-width: 480px){.keypadbutton[_ngcontent-%COMP%]{display:none!important}}.done[_ngcontent-%COMP%]{width:40px;height:40px;background:#fff;border-radius:50%}"]});let e=n;return e})();export{Xn as AlphabetPage};
