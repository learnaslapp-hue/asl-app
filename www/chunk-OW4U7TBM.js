import{a as de,b as pe}from"./chunk-S52CO7LW.js";import{a as ue}from"./chunk-ZHDFZB2B.js";import{Aa as W,Ba as $,C as k,Ca as j,E as X,F as Q,G as c,H as M,Ib as ee,J as z,Ja as D,Jb as te,Lb as ne,Mb as ie,O as C,Q as q,R as d,T as P,Tb as O,W as s,Wb as oe,X as l,Xb as re,Y as x,_a as K,aa as S,ba as h,bc as ae,ca as p,cb as G,cc as se,eb as Z,ga as A,gb as J,ia as v,ja as w,jc as le,ka as T,la as L,mc as ce,na as f,nb as Y,oa as I,pa as H,sa as R,v as g,w as m,xa as N}from"./chunk-55BITWVR.js";import"./chunk-MTUXJE3Z.js";import"./chunk-PLFY2CTQ.js";import"./chunk-7PW2J7O2.js";import"./chunk-QIBKRVRZ.js";import"./chunk-WWLKLYXQ.js";import"./chunk-ADUYDX2F.js";import"./chunk-4U6PRYVA.js";import{c as U}from"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-O4PCMGUI.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{j as B}from"./chunk-LRBG2F7K.js";var me=["translateResultModal"],he=["carousel"],fe=["track"],_e=["pager"],ge=r=>({"no-shadow":r});function xe(r,a){if(r&1){let o=S();s(0,"div",21),h("mousedown",function(){let e=g(o).index,n=p(2);return m(n.goTo(e))}),s(1,"div",22),f(2),l(),x(3,"img",23),l()}if(r&2){let o=a.$implicit,t=a.index,e=p(2);P("active",t===e.active),c(2),I(o.ch),c(),A("alt","",o.ch," sign"),d("src",o.src,X)}}function ve(r,a){if(r&1){let o=S();s(0,"button",26),h("click",function(){let e=g(o).index,n=p(3);return m(n.goTo(e))}),f(1),l()}if(r&2){let o=a.$implicit,t=a.index,e=p(3);P("on",t===e.active),q("aria-label","Go to "+o.ch),c(),H(" ",o.ch," ")}}function we(r,a){if(r&1&&(s(0,"div",24,3),C(2,ve,2,4,"button",25),l()),r&2){let o=p(2);c(2),d("ngForOf",o.slides)}}function Te(r,a){if(r&1){let o=S();s(0,"ion-header",4)(1,"ion-toolbar")(2,"ion-buttons",5)(3,"ion-button",14),h("click",function(){g(o),p();let e=L(15);return m(e.dismiss())}),x(4,"ion-icon",15),l()(),s(5,"ion-title"),f(6),l()()(),s(7,"ion-content",16)(8,"div",17,1),h("keyup.arrowLeft",function(){g(o);let e=p();return m(e.onKeyLeft())})("keyup.arrowRight",function(){g(o);let e=p();return m(e.onKeyRight())}),s(10,"div",18,2),C(12,xe,4,6,"div",19),l()(),C(13,we,3,1,"div",20),l()}if(r&2){let o=p();d("translucent",!0)("ngClass",R(6,ge,!o.showShadow)),c(6),I(o.inputTranslate==null?null:o.inputTranslate.value),c(),d("fullscreen",!1),c(5),d("ngForOf",o.slides),c(),d("ngIf",o.slides.length>1)}}var We=(()=>{let a=class a{constructor(t,e){this.scrollService=t,this.cdr=e,this.showShadow=!1,this.inputTranslate=new Z("",{nonNullable:!0}),this.slides=[],this.active=0,this.translateX=0,this.deltaX=0,this.cardW=0,this.gap=16}ngOnInit(){de({arrowBack:pe}),this.scrollService.scrollTop$.subscribe(t=>this.showShadow=t>0)}buildSlides(t){let e=[],n=(t||"").toUpperCase();for(let i of n)/[A-Z]/.test(i)&&e.push({ch:i,src:`assets/asl/${i}.png`});this.slides=e,this.active=0,this.translateX=0,this.deltaX=0}onShowResult(){return B(this,null,function*(){this.buildSlides(this.inputTranslate.value||""),yield this.translateResultModal.present(),setTimeout(()=>this.initCarousel(),0)})}onResize(){setTimeout(()=>this.snapToActiveByMeasure(),0)}initCarousel(){var n,i;if(!((n=this.trackEl)!=null&&n.nativeElement))return;let t=this.trackEl.nativeElement.querySelector(".slide-card"),e=t==null?void 0:t.getBoundingClientRect();this.cardW=e?e.width:this.carouselEl.nativeElement.clientWidth*.76,this.commitToActive(0),(i=this.gesture)==null||i.destroy(),this.gesture=U({el:this.carouselEl.nativeElement,gestureName:"sign-swipe",threshold:0,onStart:()=>{this.deltaX=0},onMove:u=>{this.deltaX=u.deltaX,this.updateTransform()},onEnd:u=>{let _=u.velocityX,y=u.deltaX,b=this.cardW*.25;y<-b||_<-.35?this.goTo(this.active+1):y>b||_>.35?this.goTo(this.active-1):this.goTo(this.active)}}),this.gesture.enable(!0)}updateTransform(){var e;let t=this.translateX+this.deltaX;(e=this.trackEl)==null||e.nativeElement.style.setProperty("transform",`translate3d(${t}px,0,0)`)}commitToActive(t){let e=Math.max(0,Math.min(t,this.slides.length-1));this.active=e,this.snapToActiveByMeasure()}snapToActiveByMeasure(){var y,b;if(!((y=this.trackEl)!=null&&y.nativeElement)||!((b=this.carouselEl)!=null&&b.nativeElement))return;let t=this.trackEl.nativeElement.querySelectorAll(".slide-card");if(!t.length)return;let e=t[this.active],n=this.carouselEl.nativeElement.getBoundingClientRect(),i=e.getBoundingClientRect();this.cardW=i.width;let u=i.left-n.left;this.translateX-=u,this.deltaX=0;let _=this.trackEl.nativeElement;_.style.transition="transform 220ms ease",_.style.transform=`translate3d(${this.translateX}px,0,0)`,setTimeout(()=>{_.style.transition="none"},240),setTimeout(()=>{var V;let F=(V=this.pagerEl)==null?void 0:V.nativeElement;if(!F)return;let E=F.querySelector(".chip.on");E==null||E.scrollIntoView({inline:"center",block:"nearest",behavior:"smooth"})},0),this.cdr.detectChanges()}goTo(t){this.commitToActive(t)}onKeyLeft(){this.goTo(this.active-1)}onKeyRight(){this.goTo(this.active+1)}};a.\u0275fac=function(e){return new(e||a)(M(ue),M(N))},a.\u0275cmp=z({type:a,selectors:[["app-text-to-sign"]],viewQuery:function(e,n){if(e&1&&(v(O,7),v(me,5),v(he,5,k),v(fe,5,k),v(_e,5,k)),e&2){let i;w(i=T())&&(n.content=i.first),w(i=T())&&(n.translateResultModal=i.first),w(i=T())&&(n.carouselEl=i.first),w(i=T())&&(n.trackEl=i.first),w(i=T())&&(n.pagerEl=i.first)}},hostBindings:function(e,n){e&1&&h("resize",function(){return n.onResize()},!1,Q)},decls:18,vars:7,consts:[["translateResultModal",""],["carousel",""],["track",""],["pager",""],[3,"translucent","ngClass"],["slot","start"],["default-href","/home"],[1,"ion-padding",3,"fullscreen"],[1,"wrap"],[1,"box","ion-padding"],["inputmode","search","fill","outline","labelPlacement","stacked","placeholder","Type something","clearInput","true",3,"formControl"],["expand","block",1,"regular",3,"click","disabled"],[1,"translate-result-modal","modal-safe-botom"],[1,"no-shadow","modal-safe-botom"],[3,"click"],["name","arrow-back","size","large","slot","icon-only"],[1,"ion-padding","translate-result",3,"fullscreen"],["tabindex","0",1,"carousel",3,"keyup.arrowLeft","keyup.arrowRight"],[1,"track"],["class","slide-card",3,"active","mousedown",4,"ngFor","ngForOf"],["class","pager",4,"ngIf"],[1,"slide-card",3,"mousedown"],[1,"letter-tag"],[3,"src","alt"],[1,"pager"],["class","chip",3,"on","click",4,"ngFor","ngForOf"],[1,"chip",3,"click"]],template:function(e,n){if(e&1){let i=S();s(0,"ion-header",4)(1,"ion-toolbar")(2,"ion-buttons",5),x(3,"ion-back-button",6),l(),s(4,"ion-title"),f(5,"Text to Sign"),l()()(),s(6,"ion-content",7)(7,"div",8)(8,"div",9)(9,"h1"),f(10,"Translate text to Sign Language"),l(),x(11,"ion-textarea",10),s(12,"ion-button",11),h("click",function(){return g(i),m(n.onShowResult())}),f(13," Translate "),l()()(),s(14,"ion-modal",12,0),C(16,Te,14,8,"ng-template"),l()(),x(17,"ion-footer",13)}e&2&&(d("translucent",!0)("ngClass",R(5,ge,!n.showShadow)),c(6),d("fullscreen",!1),c(5),d("formControl",n.inputTranslate),c(),d("disabled",!n.inputTranslate.value))},dependencies:[D,W,$,j,K,Y,G,J,O,se,ie,ne,le,ae,re,ee,oe,ce,te],styles:['@charset "UTF-8";.wrap[_ngcontent-%COMP%]{min-height:100%;display:flex;align-items:center;justify-content:center}.box[_ngcontent-%COMP%]{background:var(--ion-color-step-50, #fff);border-radius:16px;display:flex;flex-direction:column;row-gap:20px}.box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700}.translate-result-modal[_ngcontent-%COMP%]{--height: 100%}.carousel[_ngcontent-%COMP%]{--card-gap: 16px;position:relative;width:100%;padding-block:6px;touch-action:pan-y;outline:none}.track[_ngcontent-%COMP%]{display:flex;gap:var(--card-gap);will-change:transform;transform:translateZ(0)}.slide-card[_ngcontent-%COMP%]{position:relative;flex:0 0 60vw;max-width:520px;aspect-ratio:1/1;background:#d9f4f4;border-radius:16px;box-shadow:0 6px 20px #0000000f;display:grid;place-items:center;-webkit-user-select:none;user-select:none;padding:20px;box-sizing:border-box}@media (min-width: 720px){.slide-card[_ngcontent-%COMP%]{max-width:none;flex-basis:calc((100% - 3 * var(--card-gap)) / 4)}}@media (max-width: 360px){.slide-card[_ngcontent-%COMP%]{flex-basis:66.6667vw}}.slide-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;pointer-events:none}.slide-card[_ngcontent-%COMP%]   .letter-tag[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;font-weight:700;font-size:22px;line-height:1;color:#111}.pager[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:8px;overflow-x:auto;padding-bottom:6px;scroll-snap-type:x proximity}.pager[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.pager[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{scroll-snap-align:center;border:1px solid #7C4DFF;background:#fff;color:#7c4dff;border-radius:999px;padding:10px 20px;line-height:1;font-weight:700;font-size:1rem;letter-spacing:.5px;text-transform:uppercase;min-width:42px;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box}.pager[_ngcontent-%COMP%]   .chip.on[_ngcontent-%COMP%]{background:#6370ff;color:#fff}']});let r=a;return r})();export{We as TextToSignPage};
